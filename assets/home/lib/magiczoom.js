(function(){if(window.magicJS){return}var d={version:"v2.6.3-11-gc46e733",UUID:0,storage:{},$uuid:function(a){return(a.$J_UUID||(a.$J_UUID=++e.UUID))},getStorage:function(a){return(e.storage[a]||(e.storage[a]={}))},$F:function(){},$false:function(){return false},defined:function(a){return(undefined!=a)},exists:function(a){return !!(a)},j1:function(a){if(!e.defined(a)){return false}if(a.$J_TYPE){return a.$J_TYPE}if(!!a.nodeType){if(1==a.nodeType){return"element"}if(3==a.nodeType){return"textnode"}}if(a.length&&a.item){return"collection"}if(a.length&&a.callee){return"arguments"}if((a instanceof window.Object||a instanceof window.Function)&&a.constructor===e.Class){return"class"}if(a instanceof window.Array){return"array"}if(a instanceof window.Function){return"function"}if(a instanceof window.String){return"string"}if(e.j21.trident){if(e.defined(a.cancelBubble)){return"event"}}else{if(a===window.event||a.constructor==window.Event||a.constructor==window.MouseEvent||a.constructor==window.UIEvent||a.constructor==window.KeyboardEvent||a.constructor==window.KeyEvent){return"event"}}if(a instanceof window.Date){return"date"}if(a instanceof window.RegExp){return"regexp"}if(a===window){return"window"}if(a===document){return"document"}return typeof(a)},extend:function(a,b){if(!(a instanceof window.Array)){a=[a]}for(var c=0,k=a.length;c<k;c++){if(!e.defined(a)){continue}for(var i in (b||{})){try{a[c][i]=b[i]}catch(l){}}}return a[0]},implement:function(a,b){if(!(a instanceof window.Array)){a=[a]}for(var c=0,j=a.length;c<j;c++){if(!e.defined(a[c])){continue}if(!a[c].prototype){continue}for(var i in (b||{})){if(!a[c].prototype[i]){a[c].prototype[i]=b[i]}}}return a[0]},nativize:function(a,b){if(!e.defined(a)){return a}for(var c in (b||{})){if(!a[c]){a[c]=b[c]}}return a},$try:function(){for(var b=0,c=arguments.length;b<c;b++){try{return arguments[b]()}catch(a){}}return null},$A:function(a){if(!e.defined(a)){return $mjs([])}if(a.toArray){return $mjs(a.toArray())}if(a.item){var b=a.length||0,c=new Array(b);while(b--){c[b]=a[b]}return $mjs(c)}return $mjs(Array.prototype.slice.call(a))},now:function(){return new Date().getTime()},detach:function(a){var c;switch(e.j1(a)){case"object":c={};for(var b in a){c[b]=e.detach(a[b])}break;case"array":c=[];for(var i=0,j=a.length;i<j;i++){c[i]=e.detach(a[i])}break;default:return a}return e.$(c)},$:function(a){if(!e.defined(a)){return null}if(a.$J_EXTENDED){return a}switch(e.j1(a)){case"array":a=e.nativize(a,e.extend(e.Array,{$J_EXTENDED:e.$F}));a.j14=a.forEach;return a;break;case"string":var b=document.getElementById(a);if(e.defined(b)){return e.$(b)}return null;break;case"window":case"document":e.$uuid(a);a=e.extend(a,e.Doc);break;case"element":e.$uuid(a);a=e.extend(a,e.Element);break;case"event":a=e.extend(a,e.Event);break;case"textnode":return a;break;case"function":case"array":case"date":default:break}return e.extend(a,{$J_EXTENDED:e.$F})},$new:function(c,a,b){return $mjs(e.doc.createElement(c)).setProps(a||{}).j6(b||{})},addCSS:function(a){if(document.styleSheets&&document.styleSheets.length){document.styleSheets[0].insertRule(a,0)}else{var b=$mjs(document.createElement("style"));b.update(a);document.getElementsByTagName("head")[0].appendChild(b)}}};var e=d;window.magicJS=d;window.$mjs=d.$;e.Array={$J_TYPE:"array",indexOf:function(b,a){var j=this.length;for(var i=this.length,c=(a<0)?Math.max(0,i+a):a||0;c<i;c++){if(this[c]===b){return c}}return -1},contains:function(b,a){return this.indexOf(b,a)!=-1},forEach:function(h,a){for(var b=0,c=this.length;b<c;b++){if(b in this){h.call(a,this[b],b,this)}}},filter:function(l,a){var b=[];for(var c=0,k=this.length;c<k;c++){if(c in this){var i=this[c];if(l.call(a,this[c],c,this)){b.push(i)}}}return b},map:function(j,a){var b=[];for(var c=0,i=this.length;c<i;c++){if(c in this){b[c]=j.call(a,this[c],c,this)}}return b}};e.implement(String,{$J_TYPE:"string",j26:function(){return this.replace(/^\s+|\s+$/g,"")},eq:function(b,a){return(a||false)?(this.toString()===b.toString()):(this.toLowerCase().toString()===b.toLowerCase().toString())},j22:function(){return this.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase()})},dashize:function(){return this.replace(/[A-Z]/g,function(a){return("-"+a.charAt(0).toLowerCase())})},j17:function(a){return parseInt(this,a||10)},toFloat:function(){return parseFloat(this)},j18:function(){return !this.replace(/true/i,"").j26()},has:function(a,b){b=b||"";return(b+this+b).indexOf(b+a+b)>-1}});d.implement(Function,{$J_TYPE:"function",j24:function(){var b=e.$A(arguments),c=this,a=b.shift();return function(){return c.apply(a||null,b.concat(e.$A(arguments)))}},j16:function(){var b=e.$A(arguments),c=this,a=b.shift();return function(h){return c.apply(a||null,$mjs([h||window.event]).concat(b))}},j27:function(){var b=e.$A(arguments),c=this,a=b.shift();return window.setTimeout(function(){return c.apply(c,b)},a||0)},j28:function(){var a=e.$A(arguments),b=this;return function(){return b.j27.apply(b,a)}},interval:function(){var b=e.$A(arguments),c=this,a=b.shift();return window.setInterval(function(){return c.apply(c,b)},a||0)}});var f=navigator.userAgent.toLowerCase();e.j21={features:{xpath:!!(document.evaluate),air:!!(window.runtime),query:!!(document.querySelector)},touchScreen:function(){try{if(document.createEvent){document.createEvent("TouchEvent","touchend");return true}return false}catch(a){return false}}(),mobile:f.match(/android.+mobile|tablet|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|treo|up\.(j21|link)|vodafone|wap|windows (ce|phone)|xda|xiino/)?true:false,engine:(window.opera)?"presto":!!(window.ActiveXObject)?"trident":(undefined!=document.getBoxObjectFor||null!=window.mozInnerScreenY)?"gecko":(null!=window.WebKitPoint||!navigator.taintEnabled)?"webkit":"unknown",version:"",ieMode:0,platform:f.match(/ip(?:ad|od|hone)/)?"ios":(f.match(/(?:webos|android)/)||navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),backCompat:document.compatMode&&"backcompat"==document.compatMode.toLowerCase(),getDoc:function(){return(document.compatMode&&"backcompat"==document.compatMode.toLowerCase())?document.body:document.documentElement},ready:false,onready:function(){if(e.j21.ready){return}e.j21.ready=true;e.body=$mjs(document.body);e.win=$mjs(window);(function(){e.j21.css3Transformations={capable:false,prefix:""};if(typeof document.body.style.transform!=="undefined"){e.j21.css3Transformations.capable=true}else{var a="Webkit Moz O ms Khtml".split(" ");for(var b=0,c=a.length;b<c;b++){e.j21.css3Transformations.prefix=a[b];if(typeof document.body.style[e.j21.css3Transformations.prefix+"Transform"]!=="undefined"){e.j21.css3Transformations.capable=true;break}}}})();(function(){e.j21.css3Animation={capable:false,prefix:""};if(typeof document.body.style.animationName!=="undefined"){e.j21.css3Animation.capable=true}else{var a="Webkit Moz O ms Khtml".split(" ");for(var b=0,c=a.length;b<c;b++){e.j21.css3Animation.prefix=a[b];if(typeof document.body.style[e.j21.css3Animation.prefix+"AnimationName"]!=="undefined"){e.j21.css3Animation.capable=true;break}}}})();$mjs(document).raiseEvent("domready")}};(function(){function a(){return !!(arguments.callee.caller)}e.j21.version=("presto"==e.j21.engine)?!!(document.head)?270:!!(window.applicationCache)?260:!!(window.localStorage)?250:(e.j21.features.query)?220:((a())?211:((document.getElementsByClassName)?210:200)):("trident"==e.j21.engine)?!!(window.msPerformance||window.performance)?900:!!(window.XMLHttpRequest&&window.postMessage)?6:((window.XMLHttpRequest)?5:4):("webkit"==e.j21.engine)?((e.j21.features.xpath)?((e.j21.features.query)?525:420):419):("gecko"==e.j21.engine)?!!(document.head)?200:!!document.readyState?192:!!(window.localStorage)?191:((document.getElementsByClassName)?190:181):"";e.j21[e.j21.engine]=e.j21[e.j21.engine+e.j21.version]=true;if(window.chrome){e.j21.chrome=true}e.j21.ieMode=(!e.j21.trident)?0:(document.documentMode)?document.documentMode:function(){var b=0;switch(e.j21.version){case 4:b=6;break;case 5:b=7;break;case 6:b=8;break;case 900:b=9;break}return b}()})();(function(){e.j21.fullScreen={capable:false,enabled:function(){return false},request:function(){},cancel:function(){},changeEventName:"",errorEventName:"",prefix:""};if(typeof document.cancelFullScreen!="undefined"){e.j21.fullScreen.capable=true}else{var a="webkit moz o ms khtml".split(" ");for(var b=0,c=a.length;b<c;b++){e.j21.fullScreen.prefix=a[b];if(typeof document[e.j21.fullScreen.prefix+"CancelFullScreen"]!="undefined"){e.j21.fullScreen.capable=true;break}}}if(e.j21.fullScreen.capable){e.j21.fullScreen.changeEventName=e.j21.fullScreen.prefix+"fullscreenchange";e.j21.fullScreen.errorEventName=e.j21.fullScreen.prefix+"fullscreenerror";e.j21.fullScreen.enabled=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}};e.j21.fullScreen.request=function(h){return(this.prefix==="")?h.requestFullScreen():h[this.prefix+"RequestFullScreen"]()};e.j21.fullScreen.cancel=function(h){return(this.prefix==="")?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}}})();e.Element={j13:function(a){return this.className.has(a," ")},j2:function(a){if(a&&!this.j13(a)){this.className+=(this.className?" ":"")+a}return this},j3:function(a){a=a||".*";this.className=this.className.replace(new RegExp("(^|\\s)"+a+"(?:\\s|$)"),"$1").j26();return this},j4:function(a){return this.j13(a)?this.j3(a):this.j2(a)},j5:function(a){a=(a=="float"&&this.currentStyle)?"styleFloat":a.j22();var c=null,b=null;if(this.currentStyle){c=this.currentStyle[a]}else{if(document.defaultView&&document.defaultView.getComputedStyle){b=document.defaultView.getComputedStyle(this,null);c=b?b.getPropertyValue([a.dashize()]):null}}if(!c){c=this.style[a]}if("opacity"==a){return e.defined(c)?parseFloat(c):1}if(/^(border(Top|Bottom|Left|Right)Width)|((padding|margin)(Top|Bottom|Left|Right))$/.test(a)){c=parseInt(c)?c:"0px"}return("auto"==c?null:c)},j6Prop:function(b,c){try{if("opacity"==b){this.j23(c);return this}else{if("float"==b){this.style[("undefined"===typeof(this.style.styleFloat))?"cssFloat":"styleFloat"]=c;return this}else{if(e.j21.css3Transformations&&/transform/.test(b)){}}}this.style[b.j22()]=c+(("number"==e.j1(c)&&!$mjs(["zIndex","zoom"]).contains(b.j22()))?"px":"")}catch(a){}return this},j6:function(a){for(var b in a){this.j6Prop(b,a[b])}return this},j19s:function(){var a={};e.$A(arguments).j14(function(b){a[b]=this.j5(b)},this);return a},j23:function(a,c){c=c||false;a=parseFloat(a);if(c){if(a==0){if("hidden"!=this.style.visibility){this.style.visibility="hidden"}}else{if("visible"!=this.style.visibility){this.style.visibility="visible"}}}if(e.j21.trident){if(!this.currentStyle||!this.currentStyle.hasLayout){this.style.zoom=1}try{var b=this.filters.item("DXImageTransform.Microsoft.Alpha");b.enabled=(1!=a);b.opacity=a*100}catch(i){this.style.filter+=(1==a)?"":"progid:DXImageTransform.Microsoft.Alpha(enabled=true,opacity="+a*100+")"}}this.style.opacity=a;return this},setProps:function(b){for(var a in b){this.setAttribute(a,""+b[a])}return this},hide:function(){return this.j6({display:"none",visibility:"hidden"})},show:function(){return this.j6({display:"block",visibility:"visible"})},j7:function(){return{width:this.offsetWidth,height:this.offsetHeight}},j10:function(){return{top:this.scrollTop,left:this.scrollLeft}},j11:function(){var b=this,a={top:0,left:0};do{a.left+=b.scrollLeft||0;a.top+=b.scrollTop||0;b=b.parentNode}while(b);return a},j8:function(){if(e.defined(document.documentElement.getBoundingClientRect)){var j=this.getBoundingClientRect(),c=$mjs(document).j10(),a=e.j21.getDoc();return{top:j.top+c.y-a.clientTop,left:j.left+c.x-a.clientLeft}}var b=this,i=t=0;do{i+=b.offsetLeft||0;t+=b.offsetTop||0;b=b.offsetParent}while(b&&!(/^(?:body|html)$/i).test(b.tagName));return{top:t,left:i}},j9:function(){var a=this.j8();var b=this.j7();return{top:a.top,bottom:a.top+b.height,left:a.left,right:a.left+b.width}},changeContent:function(a){try{this.innerHTML=a}catch(b){this.innerText=a}return this},j33:function(){return(this.parentNode)?this.parentNode.removeChild(this):this},kill:function(){e.$A(this.childNodes).j14(function(a){if(3==a.nodeType||8==a.nodeType){return}$mjs(a).kill()});this.j33();this.je3();if(this.$J_UUID){e.storage[this.$J_UUID]=null;delete e.storage[this.$J_UUID]}return null},append:function(a,b){b=b||"bottom";var c=this.firstChild;("top"==b&&c)?this.insertBefore(a,c):this.appendChild(a);return this},j32:function(a,b){var c=$mjs(a).append(this,b);return this},enclose:function(a){this.append(a.parentNode.replaceChild(this,a));return this},hasChild:function(a){if(!(a=$mjs(a))){return false}return(this==a)?false:(this.contains&&!(e.j21.webkit419))?(this.contains(a)):(this.compareDocumentPosition)?!!(this.compareDocumentPosition(a)&16):e.$A(this.byTag(a.tagName)).contains(a)}};e.Element.j19=e.Element.j5;e.Element.j20=e.Element.j6;if(!window.Element){window.Element=e.$F;if(e.j21.engine.webkit){window.document.createElement("iframe")}window.Element.prototype=(e.j21.engine.webkit)?window["[[DOMElement.prototype]]"]:{}}e.implement(window.Element,{$J_TYPE:"element"});e.Doc={j7:function(){if(e.j21.presto925||e.j21.webkit419){return{width:self.innerWidth,height:self.innerHeight}}return{width:e.j21.getDoc().clientWidth,height:e.j21.getDoc().clientHeight}},j10:function(){return{x:self.pageXOffset||e.j21.getDoc().scrollLeft,y:self.pageYOffset||e.j21.getDoc().scrollTop}},j12:function(){var a=this.j7();return{width:Math.max(e.j21.getDoc().scrollWidth,a.width),height:Math.max(e.j21.getDoc().scrollHeight,a.height)}}};e.extend(document,{$J_TYPE:"document"});e.extend(window,{$J_TYPE:"window"});e.extend([e.Element,e.Doc],{j29:function(a,c){var h=e.getStorage(this.$J_UUID),b=h[a];if(undefined!=c&&undefined==b){b=h[a]=c}return(e.defined(b)?b:null)},j30:function(a,b){var c=e.getStorage(this.$J_UUID);c[a]=b;return this},j31:function(a){var b=e.getStorage(this.$J_UUID);delete b[a];return this}});if(!(window.HTMLElement&&window.HTMLElement.prototype&&window.HTMLElement.prototype.getElementsByClassName)){e.extend([e.Element,e.Doc],{getElementsByClassName:function(a){return e.$A(this.getElementsByTagName("*")).filter(function(b){try{return(1==b.nodeType&&b.className.has(a," "))}catch(c){}})}})}e.extend([e.Element,e.Doc],{byClass:function(){return this.getElementsByClassName(arguments[0])},byTag:function(){return this.getElementsByTagName(arguments[0])}});if(e.j21.fullScreen.capable){e.Element.requestFullScreen=function(){e.j21.fullScreen.request(this)}}e.Event={$J_TYPE:"event",stop:function(){if(this.stopPropagation){this.stopPropagation()}else{this.cancelBubble=true}if(this.preventDefault){this.preventDefault()}else{this.returnValue=false}return this},j15:function(){var a,b;a=((/touch/i).test(this.type))?this.changedTouches[0]:this;return(!e.defined(a))?{x:0,y:0}:{x:a.pageX||a.clientX+e.j21.getDoc().scrollLeft,y:a.pageY||a.clientY+e.j21.getDoc().scrollTop}},getTarget:function(){var a=this.target||this.srcElement;while(a&&3==a.nodeType){a=a.parentNode}return a},getRelated:function(){var a=null;switch(this.type){case"mouseover":a=this.relatedTarget||this.fromElement;break;case"mouseout":a=this.relatedTarget||this.toElement;break;default:return a}try{while(a&&3==a.nodeType){a=a.parentNode}}catch(b){a=null}return a},getButton:function(){if(!this.which&&this.button!==undefined){return(this.button&1?1:(this.button&2?3:(this.button&4?2:0)))}return this.which}};e._event_add_="addEventListener";e._event_del_="removeEventListener";e._event_prefix_="";if(!document.addEventListener){e._event_add_="attachEvent";e._event_del_="detachEvent";e._event_prefix_="on"}e.extend([e.Element,e.Doc],{je1:function(c,j){var a=("domready"==c)?false:true,k=this.j29("events",{});k[c]=k[c]||{};if(k[c].hasOwnProperty(j.$J_EUID)){return this}if(!j.$J_EUID){j.$J_EUID=Math.floor(Math.random()*e.now())}var l=this,b=function(g){return j.call(l)};if("domready"==c){if(e.j21.ready){j.call(this);return this}}if(a){b=function(g){g=e.extend(g||window.e,{$J_TYPE:"event"});return j.call(l,$mjs(g))};this[e._event_add_](e._event_prefix_+c,b,false)}k[c][j.$J_EUID]=b;return this},je2:function(c){var a=("domready"==c)?false:true,k=this.j29("events");if(!k||!k[c]){return this}var b=k[c],j=arguments[1]||null;if(c&&!j){for(var l in b){if(!b.hasOwnProperty(l)){continue}this.je2(c,l)}return this}j=("function"==e.j1(j))?j.$J_EUID:j;if(!b.hasOwnProperty(j)){return this}if("domready"==c){a=false}if(a){this[e._event_del_](e._event_prefix_+c,b[j],false)}delete b[j];return this},raiseEvent:function(n,p){var a=("domready"==n)?false:true,b=this,c;if(!a){var o=this.j29("events");if(!o||!o[n]){return this}var k=o[n];for(var q in k){if(!k.hasOwnProperty(q)){continue}k[q].call(this)}return this}if(b===document&&document.createEvent&&!b.dispatchEvent){b=document.documentElement}if(document.createEvent){c=document.createEvent(n);c.initEvent(p,true,true)}else{c=document.createEventObject();c.eventType=n}if(document.createEvent){b.dispatchEvent(c)}else{b.fireEvent("on"+p,c)}return c},je3:function(){var b=this.j29("events");if(!b){return this}for(var a in b){this.je2(a)}this.j31("events");return this}});(function(){if(e.j21.webkit&&e.j21.version<420){(function(){($mjs(["loaded","complete"]).contains(document.readyState))?e.j21.onready():arguments.callee.j27(50)})()}else{if(e.j21.trident&&e.j21.ieMode<9&&window==top){(function(){(e.$try(function(){e.j21.getDoc().doScroll("left");return true}))?e.j21.onready():arguments.callee.j27(50)})()}else{$mjs(document).je1("DOMContentLoaded",e.j21.onready);$mjs(window).je1("load",e.j21.onready)}}})();e.Class=function(){var a=null,i=e.$A(arguments);if("class"==e.j1(i[0])){a=i.shift()}var j=function(){for(var g in this){this[g]=e.detach(this[g])}if(this.constructor.$parent){this.$parent={};var m=this.constructor.$parent;for(var p in m){var h=m[p];switch(e.j1(h)){case"function":this.$parent[p]=e.Class.wrap(this,h);break;case"object":this.$parent[p]=e.detach(h);break;case"array":this.$parent[p]=e.detach(h);break}}}var k=(this.init)?this.init.apply(this,arguments):this;delete this.caller;return k};if(!j.prototype.init){j.prototype.init=e.$F}if(a){var b=function(){};b.prototype=a.prototype;j.prototype=new b;j.$parent={};for(var c in a.prototype){j.$parent[c]=a.prototype[c]}}else{j.$parent=null}j.constructor=e.Class;j.prototype.constructor=j;e.extend(j.prototype,i[0]);e.extend(j,{$J_TYPE:"class"});return j};d.Class.wrap=function(b,a){return function(){var c=this.caller;var h=a.apply(b,arguments);return h}};e.win=$mjs(window);e.doc=$mjs(document)})();(function(d){if(!d){throw"MagicJS not found";return}if(d.FX){return}var c=d.$;d.FX=new d.Class({options:{fps:50,duration:500,transition:function(a){return -(Math.cos(Math.PI*a)-1)/2},onStart:d.$F,onComplete:d.$F,onBeforeRender:d.$F,roundCss:true},styles:null,init:function(a,b){this.el=$mjs(a);this.options=d.extend(this.options,b);this.timer=false},start:function(a){this.styles=a;this.state=0;this.curFrame=0;this.startTime=d.now();this.finishTime=this.startTime+this.options.duration;this.timer=this.loop.j24(this).interval(Math.round(1000/this.options.fps));this.options.onStart.call();return this},stop:function(a){a=d.defined(a)?a:false;if(this.timer){clearInterval(this.timer);this.timer=false}if(a){this.render(1);this.options.onComplete.j27(10)}return this},calc:function(a,b,f){return(b-a)*f+a},loop:function(){var a=d.now();if(a>=this.finishTime){if(this.timer){clearInterval(this.timer);this.timer=false}this.render(1);this.options.onComplete.j27(10);return this}var b=this.options.transition((a-this.startTime)/this.options.duration);this.render(b)},render:function(f){var b={};for(var a in this.styles){if("opacity"===a){b[a]=Math.round(this.calc(this.styles[a][0],this.styles[a][1],f)*100)/100}else{b[a]=this.calc(this.styles[a][0],this.styles[a][1],f);if(this.options.roundCss){b[a]=Math.round(b[a])}}}this.options.onBeforeRender(b);this.set(b)},set:function(a){return this.el.j6(a)}});d.FX.Transition={linear:function(a){return a},sineIn:function(a){return -(Math.cos(Math.PI*a)-1)/2},sineOut:function(a){return 1-d.FX.Transition.sineIn(1-a)},expoIn:function(a){return Math.pow(2,8*(a-1))},expoOut:function(a){return 1-d.FX.Transition.expoIn(1-a)},quadIn:function(a){return Math.pow(a,2)},quadOut:function(a){return 1-d.FX.Transition.quadIn(1-a)},cubicIn:function(a){return Math.pow(a,3)},cubicOut:function(a){return 1-d.FX.Transition.cubicIn(1-a)},backIn:function(a,b){b=b||1.618;return Math.pow(a,2)*((b+1)*a-b)},backOut:function(a,b){return 1-d.FX.Transition.backIn(1-a)},elasticIn:function(a,b){b=b||[];return Math.pow(2,10*--a)*Math.cos(20*a*Math.PI*(b[0]||1)/3)},elasticOut:function(a,b){return 1-d.FX.Transition.elasticIn(1-a,b)},bounceIn:function(a){for(var b=0,f=1;1;b+=f,f/=2){if(a>=(7-4*b)/11){return f*f-Math.pow((11-6*b-11*a)/4,2)}}},bounceOut:function(a){return 1-d.FX.Transition.bounceIn(1-a)},none:function(a){return 0}}})(magicJS);(function(d){if(!d){throw"MagicJS not found";return}if(d.PFX){return}var c=d.$;d.PFX=new d.Class(d.FX,{init:function(b,a){this.el_arr=b;this.options=d.extend(this.options,a);this.timer=false},start:function(a){this.$parent.start([]);this.styles_arr=a;return this},render:function(b){for(var a=0;a<this.el_arr.length;a++){this.el=$mjs(this.el_arr[a]);this.styles=this.styles_arr[a];this.$parent.render(b)}}})})(magicJS);var MagicZoom=(function(h){var g=h.$;h.$Ff=function(a){$mjs(a).stop();return false};var f={version:"v4.0.23",options:{},defaults:{opacity:50,opacityReverse:false,smoothingSpeed:40,fps:25,zoomWidth:300,zoomHeight:300,zoomDistance:15,zoomPosition:"right",zoomAlign:"top",zoomWindowEffect:"shadow",dragMode:false,moveOnClick:true,alwaysShowZoom:false,preservePosition:false,x:-1,y:-1,clickToActivate:false,clickToDeactivate:false,initializeOn:"load",smoothing:true,showTitle:"top",titleSource:"title",zoomFade:true,zoomFadeInSpeed:400,zoomFadeOutSpeed:200,hotspots:"",hint:true,hintText:"Zoom",hintPosition:"tl",hintOpacity:75,hintClass:"MagicZoomHint",showLoading:true,loadingMsg:"Loading zoom..",loadingOpacity:75,loadingPositionX:-1,loadingPositionY:-1,selectorsChange:"click",selectorsMouseoverDelay:60,selectorsEffect:"dissolve",selectorsEffectSpeed:400,preloadSelectorsSmall:true,preloadSelectorsBig:false,selectorsClass:"",fitZoomWindow:true,entireImage:false,rightClick:false,disableZoom:false},z39:$mjs([/^(opacity)(\s+)?:(\s+)?(\d+)$/i,/^(opacity-reverse)(\s+)?:(\s+)?(true|false)$/i,/^(smoothing\-speed)(\s+)?:(\s+)?(\d+)$/i,/^(fps)(\s+)?:(\s+)?(\d+)$/i,/^(zoom\-width)(\s+)?:(\s+)?(\d+)(px)?/i,/^(zoom\-height)(\s+)?:(\s+)?(\d+)(px)?/i,/^(zoom\-distance)(\s+)?:(\s+)?(\d+)(px)?/i,/^(zoom\-position)(\s+)?:(\s+)?(right|left|top|bottom|custom|inner|#([a-z0-9_\-:\.]+))$/i,/^(zoom\-align)(\s+)?:(\s+)?(right|left|top|bottom|center)$/i,/^(zoom\-window\-effect)(\s+)?:(\s+)?(shadow|glow|false)$/i,/^(drag\-mode)(\s+)?:(\s+)?(true|false)$/i,/^(move\-on\-click)(\s+)?:(\s+)?(true|false)$/i,/^(always\-show\-zoom)(\s+)?:(\s+)?(true|false)$/i,/^(preserve\-position)(\s+)?:(\s+)?(true|false)$/i,/^(x)(\s+)?:(\s+)?([\d.]+)(px)?/i,/^(y)(\s+)?:(\s+)?([\d.]+)(px)?/i,/^(click\-to\-activate)(\s+)?:(\s+)?(true|false)$/i,/^(click\-to\-deactivate)(\s+)?:(\s+)?(true|false)$/i,/^(initialize\-on)(\s+)?:(\s+)?(load|click|mouseover)$/i,/^(click\-to\-initialize)(\s+)?:(\s+)?(true|false)$/i,/^(smoothing)(\s+)?:(\s+)?(true|false)$/i,/^(show\-title)(\s+)?:(\s+)?(true|false|top|bottom)$/i,/^(title\-source)(\s+)?:(\s+)?(title|#([a-z0-9_\-:\.]+))$/i,/^(zoom\-fade)(\s+)?:(\s+)?(true|false)$/i,/^(zoom\-fade\-in\-speed)(\s+)?:(\s+)?(\d+)$/i,/^(zoom\-fade\-out\-speed)(\s+)?:(\s+)?(\d+)$/i,/^(hotspots)(\s+)?:(\s+)?([a-z0-9_\-:\.]+)$/i,/^(hint)(\s+)?:(\s+)?(true|false)/i,/^(hint\-text)(\s+)?:(\s+)?([^;]*)$/i,/^(hint\-opacity)(\s+)?:(\s+)?(\d+)$/i,/^(hint\-position)(\s+)?:(\s+)?(tl|tr|tc|bl|br|bc)/i,/^(show\-loading)(\s+)?:(\s+)?(true|false)$/i,/^(loading\-msg)(\s+)?:(\s+)?([^;]*)$/i,/^(loading\-opacity)(\s+)?:(\s+)?(\d+)$/i,/^(loading\-position\-x)(\s+)?:(\s+)?(\d+)(px)?/i,/^(loading\-position\-y)(\s+)?:(\s+)?(\d+)(px)?/i,/^(thumb\-change)(\s+)?:(\s+)?(click|mouseover)$/i,/^(selectors\-change)(\s+)?:(\s+)?(click|mouseover)$/i,/^(selectors\-mouseover\-delay)(\s+)?:(\s+)?(\d+)$/i,/^(selectors\-effect)(\s+)?:(\s+)?(dissolve|fade|pounce|false)$/i,/^(selectors\-effect\-speed)(\s+)?:(\s+)?(\d+)$/i,/^(selectors\-class)(\s+)?:(\s+)?([a-z0-9_\-:\.]+)$/i,/^(fit\-zoom\-window)(\s+)?:(\s+)?(true|false)$/i,/^(preload\-selectors\-small)(\s+)?:(\s+)?(true|false)$/i,/^(preload\-selectors\-big)(\s+)?:(\s+)?(true|false)$/i,/^(entire\-image)(\s+)?:(\s+)?(true|false)$/i,/^(right\-click)(\s+)?:(\s+)?(true|false)$/i,/^(disable\-zoom)(\s+)?:(\s+)?(true|false)$/i]),zooms:$mjs([]),z8:function(a){var b=/(click|mouseover)/i;for(var c=0;c<f.zooms.length;c++){if(f.zooms[c].z30&&!f.zooms[c].activatedEx){f.zooms[c].pause()}else{if(b.test(f.zooms[c].options.initializeOn)&&f.zooms[c].initMouseEvent){f.zooms[c].initMouseEvent=a}}}},stop:function(a){var b=$mjs([]);if(a){if((a=$mjs(a))&&a.zoom){b.push(a)}else{return false}}else{b=$mjs(h.$A(h.body.byTag("A")).filter(function(c){return((" "+c.className+" ").match(/\sMagicZoom\s/)&&c.zoom)}))}b.j14(function(c){c.zoom&&c.zoom.stop()},this)},start:function(b){if(0==arguments.length){f.refresh();return true}b=$mjs(b);if(!b||!(" "+b.className+" ").match(/\s(MagicZoom|MagicZoomPlus)\s/)){return false}if(!b.zoom){var a=null;while(a=b.firstChild){if(a.tagName=="IMG"){break}b.removeChild(a)}while(a=b.lastChild){if(a.tagName=="IMG"){break}b.removeChild(a)}if(!b.firstChild||b.firstChild.tagName!="IMG"){throw"Invalid Magic Zoom"}f.zooms.push(new f.zoom(b,(arguments.length>1)?arguments[1]:undefined))}else{b.zoom.start()}},update:function(a,d,b,c){if((a=$mjs(a))&&a.zoom){a.zoom.update(d,b,c);return true}return false},refresh:function(){h.$A(window.document.getElementsByTagName("A")).j14(function(a){if(a.className.has("MagicZoom"," ")){if(f.stop(a)){f.start.j27(100,a)}else{f.start(a)}}},this)},show:function(a){if((a=$mjs(a))&&a.zoom){return a.zoom.activate()}return false},getXY:function(a){if((a=$mjs(a))&&a.zoom){return{x:a.zoom.options.x,y:a.zoom.options.y}}},x7:function(a){var b,c;b="";for(c=0;c<a.length;c++){b+=String.fromCharCode(14^a.charCodeAt(c))}return b}};f.z48=function(){this.init.apply(this,arguments)};f.z48.prototype={init:function(a){this.cb=null;this.z9=null;this.onErrorHandler=this.onError.j16(this);this.z10=null;this.width=0;this.height=0;this.border={left:0,right:0,top:0,bottom:0};this.padding={left:0,right:0,top:0,bottom:0};this.ready=false;this._tmpp=null;if("string"==h.j1(a)){this._tmpp=h.$new("div").j6({position:"absolute",top:"-10000px",width:"1px",height:"1px",overflow:"hidden"}).j32(h.body);this.self=h.$new("img").j32(this._tmpp);this.z11();this.self.src=a}else{this.self=$mjs(a);this.z11();this.self.src=a.src}},_cleanup:function(){if(this._tmpp){if(this.self.parentNode==this._tmpp){this.self.j33().j6({position:"static",top:"auto"})}this._tmpp.kill();this._tmpp=null}},onError:function(a){if(a){$mjs(a).stop()}if(this.cb){this._cleanup();this.cb.call(this,false)}this.unload()},z11:function(a){this.z9=null;if(a==true||!(this.self.src&&(this.self.complete||this.self.readyState=="complete"))){this.z9=function(b){if(b){$mjs(b).stop()}if(this.ready){return}this.ready=true;this.z13();if(this.cb){this._cleanup();this.cb.call()}}.j16(this);this.self.je1("load",this.z9);$mjs(["abort","error"]).j14(function(b){this.self.je1(b,this.onErrorHandler)},this)}else{this.ready=true}},update:function(b,a){this.unload();var c=h.$new("a",{href:b});if(true!==a&&this.self.src.has(c.href)&&0!==this.self.width){this.ready=true}else{this.z11(true);this.self.src=b}c=null},z13:function(){this.width=this.self.width;this.height=this.self.height;if(this.width==0&&this.height==0&&h.j21.webkit){this.width=this.self.naturalWidth;this.height=this.self.naturalHeight}$mjs(["Left","Right","Top","Bottom"]).j14(function(a){this.padding[a.toLowerCase()]=this.self.j19("padding"+a).j17();this.border[a.toLowerCase()]=this.self.j19("border"+a+"Width").j17()},this);if(h.j21.presto||(h.j21.trident&&!h.j21.backCompat)){this.width-=this.padding.left+this.padding.right;this.height-=this.padding.top+this.padding.bottom}},getBox:function(){var a=null;a=this.self.j9();return{top:a.top+this.border.top,bottom:a.bottom-this.border.bottom,left:a.left+this.border.left,right:a.right-this.border.right}},z12:function(){if(this.z10){this.z10.src=this.self.src;this.self=null;this.self=this.z10}},load:function(a){if(this.ready){if(!this.width){(function(){this.z13();this._cleanup();a.call()}).j24(this).j27(1)}else{this._cleanup();a.call()}}else{this.cb=a}},unload:function(){if(this.z9){this.self.je2("load",this.z9)}$mjs(["abort","error"]).j14(function(a){this.self.je2(a,this.onErrorHandler)},this);this.z9=null;this.cb=null;this.width=null;this.ready=false;this._new=false}};f.zoom=function(){this.construct.apply(this,arguments)};f.zoom.prototype={construct:function(a,b){var c={};this.z28=-1;this.z30=false;this.ddx=0;this.ddy=0;this.activatedEx=false;this.z44=null;this.z1Holder=$mjs(window).j29("magiczoom:holder")||$mjs(window).j29("magiczoom:holder",h.$new("div").j6({position:"absolute",top:-10000,width:10,height:10,overflow:"hidden"}).j32(h.body));this.options=h.detach(f.defaults);if(a){this.c=$mjs(a)}this.divTag=("div"==this.c.tagName.toLowerCase());c=h.extend(c,this.z37());c=h.extend(c,this.z37(this.c.rel));if(b){c=h.extend(c,this.z37(b))}if(c.dragMode&&undefined===c.alwaysShowZoom){c.alwaysShowZoom=true}h.extend(this.options,c);this.options.hotspots+="";if("load"==this.options.initializeOn&&h.defined(this.options.clickToInitialize)&&"true"==this.options.clickToInitialize.toString()){this.options.initializeOn="click"}if(h.defined(this.options.thumbChange)&&this.options.thumbChange!=this.options.selectorsChange){this.options.selectorsChange=this.options.thumbChange}if(h.j21.touchScreen){this.options.selectorsChange="click";this.options.initializeOn=("mouseover"==this.options.initializeOn)?"click":this.options.initializeOn;this.options.clickToDeactivate=false;if(window.screen.height<=480){this.options.zoomPosition="inner"}}if(this.options.disableZoom){this.z30=false;this.options.clickToActivate=true;this.options.hint=false}if(a){this.lastSelector=null;this.z14=this.mousedown.j16(this);this.z15=this.mouseup.j16(this);this.z16=this.show.j24(this,false);this.z17=this.z29.j24(this);this.z43Bind=this.z43.j16(this);if(h.j21.touchScreen){if(!this.options.disableZoom){this.c.je1("touchstart",this.z14);this.c.je1("touchend",this.z15)}else{this.c.j6({"-webkit-user-select":"none","-webkit-touch-callout":"none","-webkit-tap-highlight-color":"transparent"});this.c.je1("click",function(d){d.preventDefault()})}}else{if(!this.divTag){this.c.je1("click",function(d){var j=d.getButton();if(3==j){return true}$mjs(d).stop();if(!h.j21.trident){this.blur()}return false})}this.c.je1("mousedown",this.z14);this.c.je1("mouseup",this.z15);if("mouseover"==this.options.initializeOn){this.c.je1("mouseover",this.z14)}}this.c.unselectable="on";this.c.style.MozUserSelect="none";this.c.je1("selectstart",h.$Ff);if(!this.divTag){this.c.j6({position:"relative",display:"inline-block",textDecoration:"none",outline:"0",cursor:"hand"});if(h.j21.gecko181||h.j21.presto){this.c.j6({display:"block"})}if(this.c.j5("textAlign")=="center"){this.c.j6({margin:"auto auto"})}}this.c.zoom=this}else{this.options.initializeOn="load"}if(!this.options.rightClick){this.c.je1("contextmenu",h.$Ff)}if("load"==this.options.initializeOn){this.z18()}else{if(""!=this.c.id){this.z26(true)}}},z18:function(){var d,a,b,c,p;p=["^bko}k.{~i|ojk.za.h{bb.xk|}ga`.ah.Coigm.Taac(-6:6<5","#ff0000",10,"bold","center","100%"];if(!this.z7){this.z7=new f.z48(this.c.firstChild);this.z1=new f.z48(this.c.href)}else{this.z1.update(this.c.href)}if(!this.z47){this.z47={self:$mjs(document.createElement("DIV"))[(this.divTag)?"j3":"j2"]("MagicZoomBigImageCont").j6({overflow:"hidden",zIndex:this.options.zoomPosition=="inner"?100:10002,top:"-100000px",position:"absolute",width:this.options.zoomWidth+"px",height:this.options.zoomHeight+"px"}),zoom:this,z21:"0px",initTopPos:0,initLeftPos:0};if(!(h.j21.trident900&&h.j21.ieMode<9)){switch(this.options.zoomWindowEffect){case"shadow":this.z47.self.j2("MagicBoxShadow");break;case"glow":this.z47.self.j2("MagicBoxGlow");break;default:break}}this.z47.hide=function(){if(this.self.style.top!="-100000px"&&this.zoom.z4&&!this.zoom.z4.z38){this.z21=this.self.style.top;this.self.style.top="-100000px"}if(this.self.parentNode===h.body){this.self.j32(this.zoom.z1Holder)}};this.z47.z22=this.z47.hide.j24(this.z47);if(h.j21.trident4){d=$mjs(document.createElement("IFRAME"));d.src="javascript:''";d.j6({left:"0px",top:"0px",position:"absolute","z-index":-1}).frameBorder=0;this.z47.z23=this.z47.self.appendChild(d)}this.z47.z41=$mjs(document.createElement("DIV")).j2("MagicZoomHeader").j6({position:"relative",zIndex:10,left:"0px",top:"0px",padding:"3px"}).hide();a=h.$new("DIV",{},{overflow:"hidden"});a.appendChild(this.z1.self);this.z1.self.j6({padding:"0px",margin:"0px",border:"0px",width:"auto",height:"auto"});if(this.options.showTitle=="bottom"){this.z47.self.appendChild(a);this.z47.self.appendChild(this.z47.z41)}else{this.z47.self.appendChild(this.z47.z41);this.z47.self.appendChild(a)}if(this.options.zoomPosition=="custom"&&$mjs(this.c.id+"-big")){$mjs(this.c.id+"-big").appendChild(this.z47.self)}else{if(this.options.zoomPosition.has("#")){var q=this.options.zoomPosition.replace(/^#/,"");if($mjs(q)){$mjs(q).appendChild(this.z47.self)}}else{if(this.options.zoomPosition=="inner"){this.c.appendChild(this.z47.self)}else{this.z47.self.j32(this.z1Holder)}}}}if(this.options.showTitle!="false"&&this.options.showTitle!=false){var o=this.z47.z41;o.hide();while(b=o.firstChild){o.removeChild(b)}if(this.options.titleSource=="title"&&""!=this.c.title){o.appendChild(document.createTextNode(this.c.title));o.show()}else{if(this.options.titleSource.has("#")){var q=this.options.titleSource.replace(/^#/,"");if($mjs(q)){o.changeContent($mjs(q).innerHTML);o.show()}}}}else{this.z47.z41.hide()}this.c.z46=this.c.title;this.c.title="";this.z7.load(this.z19.j24(this))},z19:function(a){if(!a&&a!==undefined){return}if(!this.options.opacityReverse){this.z7.self.j23(1)}if(!this.divTag){this.c.j6({width:this.z7.width+"px"})}if(this.options.showLoading){this.z24=setTimeout(this.z17,400)}if(this.options.hotspots!=""&&$mjs(this.options.hotspots)){this.z25()}if(this.c.id!=""){this.z26()}this.z1.load(this.z20.j24(this))},z20:function(a){var b,c;if(!a&&a!==undefined){clearTimeout(this.z24);if(this.options.showLoading&&this.z3){this.z3.hide()}return}if(!this.z7||!this.z1){return}c=this.z7.self.j9();if(c.bottom==c.top){this.z20.j24(this).j27(500);return}if(this.z7.width==0&&h.j21.trident){this.z7.z13();this.z1.z13();!this.divTag&&this.c.j6({width:this.z7.width+"px"})}b=this.z47.z41.j7();if(this.options.fitZoomWindow||this.options.entireImage){if((this.z1.width<this.options.zoomWidth)||this.options.entireImage){this.options.zoomWidth=this.z1.width;this.z47.self.j6({width:this.options.zoomWidth});b=this.z47.z41.j7()}if((this.z1.height<this.options.zoomHeight)||this.options.entireImage){this.options.zoomHeight=this.z1.height+b.height}}switch(this.options.zoomPosition){case"custom":break;case"right":this.z47.self.style.left=c.right+this.options.zoomDistance+"px";break;case"left":this.z47.self.style.left=c.left-this.options.zoomDistance-this.options.zoomWidth+"px";break;case"top":this.z47.z21=c.top-(this.options.zoomDistance+this.options.zoomHeight)+"px";break;case"bottom":this.z47.z21=c.bottom+this.options.zoomDistance+"px";break;case"inner":this.z47.self.j6({left:"0px",height:this.z7.height+"px",width:this.z7.width+"px"});this.options.zoomWidth=this.z7.width;this.options.zoomHeight=this.z7.height;this.z47.z21="0px";b=this.z47.z41.j7();break}if(this.options.showTitle=="bottom"){this.z1.self.parentNode.style.height=(this.options.zoomHeight-b.height)+"px"}this.z47.self.j6({height:this.options.zoomHeight+"px",width:this.options.zoomWidth+"px"}).j23(1);if(h.j21.trident4&&this.z47.z23){this.z47.z23.j6({width:this.options.zoomWidth+"px",height:this.options.zoomHeight+"px"})}if(this.options.zoomPosition=="right"||this.options.zoomPosition=="left"){if(this.options.zoomAlign=="center"){this.z47.z21=(c.bottom-(c.bottom-c.top)/2-this.options.zoomHeight/2)+"px"}else{if(this.options.zoomAlign=="bottom"){this.z47.z21=(c.bottom-this.options.zoomHeight)+"px"}else{this.z47.z21=c.top+"px"}}}else{if(this.options.zoomPosition=="top"||this.options.zoomPosition=="bottom"){if(this.options.zoomAlign=="center"){this.z47.self.style.left=(c.right-(c.right-c.left)/2-this.options.zoomWidth/2)+"px"}else{if(this.options.zoomAlign=="right"){this.z47.self.style.left=(c.right-this.options.zoomWidth)+"px"}else{this.z47.self.style.left=c.left+"px"}}}}this.z47.initTopPos=parseInt(this.z47.z21,10);this.z47.initLeftPos=parseInt(this.z47.self.style.left,10);this.zoomViewHeight=this.options.zoomHeight-b.height;if(this.z47.g){this.z47.g.j6({top:this.options.showTitle=="bottom"?0:"auto",bottom:this.options.showTitle=="bottom"?"auto":0})}this.z1.self.j6({position:"relative",borderWidth:"0px",padding:"0px",left:"0px",top:"0px"});this.z27();if(this.options.alwaysShowZoom){if(this.options.x==-1){this.options.x=this.z7.width/2}if(this.options.y==-1){this.options.y=this.z7.height/2}this.show()}else{if(this.options.zoomFade){this.z2=new h.FX(this.z47.self)}this.z47.self.j6({top:"-100000px"})}if(this.options.showLoading&&this.z3){this.z3.hide()}if(h.j21.touchScreen){this.c.je1("touchstart",this.z43Bind);this.c.je1("touchmove",this.z43Bind);this.c.je1("touchend",this.z43Bind)}else{this.c.je1("mousemove",this.z43Bind);this.c.je1("mouseout",this.z43Bind)}this.setupHint();if(!this.options.disableZoom&&(!this.options.clickToActivate||"click"==this.options.initializeOn)){this.z30=true}if("click"==this.options.initializeOn&&this.initMouseEvent){this.z43(this.initMouseEvent)}if(this.activatedEx){this.activate()}this.z28=h.now()},setupHint:function(){var a=/tr|br/i,j=/bl|br|bc/i,d=/bc|tc/i,b=null;this.hintVisible=undefined;if(!this.options.hint){if(this.hint){this.hint.kill();this.hint=undefined}return}if(!this.hint){this.hint=$mjs(document.createElement("DIV")).j2(this.options.hintClass).j6({display:"block",overflow:"hidden",position:"absolute",visibility:"hidden","z-index":1});if(this.options.hintText!=""){this.hint.appendChild(document.createTextNode(this.options.hintText))}this.c.appendChild(this.hint)}else{if(this.options.hintText!=""){b=this.hint[(this.hint.firstChild)?"replaceChild":"appendChild"](document.createTextNode(this.options.hintText),this.hint.firstChild);b=null}}this.hint.j6({left:"auto",right:"auto",top:"auto",bottom:"auto",display:"block",opacity:(this.options.hintOpacity/100),"max-width":(this.z7.width-4)});var c=this.hint.j7();this.hint.j6Prop((a.test(this.options.hintPosition)?"right":"left"),(d.test(this.options.hintPosition)?(this.z7.width-c.width)/2:2)).j6Prop((j.test(this.options.hintPosition)?"bottom":"top"),2);this.hintVisible=true;this.hint.show()},z29:function(){if(this.z1.ready){return}this.z3=$mjs(document.createElement("DIV")).j2("MagicZoomLoading").j23(this.options.loadingOpacity/100).j6({display:"block",overflow:"hidden",position:"absolute",visibility:"hidden","z-index":20,"max-width":(this.z7.width-4)});this.z3.appendChild(document.createTextNode(this.options.loadingMsg));this.c.appendChild(this.z3);var a=this.z3.j7();this.z3.j6({left:(this.options.loadingPositionX==-1?((this.z7.width-a.width)/2):(this.options.loadingPositionX))+"px",top:(this.options.loadingPositionY==-1?((this.z7.height-a.height)/2):(this.options.loadingPositionY))+"px"});this.z3.show()},z26:function(b){var d,a,c=new RegExp("zoom\\-id(\\s+)?:(\\s+)?"+this.c.id+"($|;)");this.selectors=$mjs([]);h.$A(document.getElementsByTagName("A")).j14(function(k){if(c.test(k.rel)){if(!$mjs(k).z36){k.z36=function(i){if(!h.j21.trident){this.blur()}$mjs(i).stop();return false};k.je1("click",k.z36)}if(b){return}var l=h.$new("a",{href:k.rev});(this.options.selectorsClass!="")&&$mjs(k)[this.z1.self.src.has(k.href)&&this.z7.self.src.has(l.href)?"j2":"j3"](this.options.selectorsClass);if(this.z1.self.src.has(k.href)&&this.z7.self.src.has(l.href)){this.lastSelector=k}l=null;if(!k.z34){k.z34=function(i,j){j=i.currentTarget||i.getTarget();try{while("a"!=j.tagName.toLowerCase()){j=j.parentNode}}catch(n){return}if(j.hasChild(i.getRelated())){return}if(i.type=="mouseout"){if(this.z35){clearTimeout(this.z35)}this.z35=false;return}if(j.title!=""){this.c.title=j.title}if(i.type=="mouseover"){this.z35=setTimeout(this.update.j24(this,j.href,j.rev,j.rel,j),this.options.selectorsMouseoverDelay)}else{this.update(j.href,j.rev,j.rel,j)}}.j16(this);k.je1(this.options.selectorsChange,k.z34);if(this.options.selectorsChange=="mouseover"){k.je1("mouseout",k.z34)}}k.j6({outline:"0",display:"inline-block"});if(this.options.preloadSelectorsSmall){a=new Image();a.src=k.rev}if(this.options.preloadSelectorsBig){d=new Image();d.src=k.href}this.selectors.push(k)}},this)},stop:function(b){try{this.pause();if(h.j21.touchScreen){this.c.je2("touchmove",this.z43Bind);this.c.je2("touchend",this.z43Bind)}else{this.c.je2("mousemove",this.z43Bind);this.c.je2("mouseout",this.z43Bind)}if(undefined===b&&this.z4){this.z4.self.hide()}if(this.z2){this.z2.stop()}this.z6=null;this.z30=false;if(this.selectors!==undefined){this.selectors.j14(function(c){if(this.options.selectorsClass!=""){c.j3(this.options.selectorsClass)}if(undefined===b){c.je2(this.options.selectorsChange,c.z34);if(this.options.selectorsChange=="mouseover"){c.je2("mouseout",c.z34)}c.z34=null;c.je2("click",c.z36);c.z36=null}},this)}if(this.options.hotspots!=""&&$mjs(this.options.hotspots)){$mjs(this.options.hotspots).hide();$mjs(this.options.hotspots).z31.insertBefore($mjs(this.options.hotspots),$mjs(this.options.hotspots).z32);if(this.c.z33){this.c.removeChild(this.c.z33)}}this.z1.unload();if(this.options.opacityReverse){this.c.j3("MagicZoomPup");this.z7.self.j23(1)}this.z2=null;if(this.z3){this.c.removeChild(this.z3)}if(this.hint){this.hint.hide()}if(undefined===b){if(this.hint){this.c.removeChild(this.hint)}this.hint=null;this.z7.unload();(this.z4&&this.z4.self)&&this.c.removeChild(this.z4.self);(this.z47&&this.z47.self)&&this.z47.self.parentNode.removeChild(this.z47.self);this.z4=null;this.z47=null;this.z1=null;this.z7=null;if(!this.options.rightClick){this.c.je2("contextmenu",h.$Ff)}}if(this.z24){clearTimeout(this.z24);this.z24=null}this.z44=null;this.c.z33=null;this.z3=null;if(this.c.title==""){this.c.title=this.c.z46}this.z28=-1}catch(a){}},start:function(a){if(this.z28!=-1){return}this.construct(false,a)},update:function(C,M,R,D){var Q,c,S,O,H,P,a=null,E=null;var N,L,d,F,J,I,G,b,K;D=D||null;if(h.now()-this.z28<300||this.z28==-1||this.ufx){Q=300-h.now()+this.z28;if(this.z28==-1){Q=300}this.z35=setTimeout(this.update.j24(this,C,M,R,D),Q);return}if(D&&this.lastSelector==D){return}else{this.lastSelector=D}c=function(i){if(undefined!=C){this.c.href=C}if(undefined===R){R=""}if(this.options.preservePosition){R="x: "+this.options.x+"; y: "+this.options.y+"; "+R}if(undefined!=M){this.z7.update(M);if(i!==undefined){this.z7.load(i)}}};O=this.z7.width;H=this.z7.height;this.stop(true);if(this.options.selectorsEffect!="false"){this.ufx=true;var B=$mjs(this.c.cloneNode(true)).j6({position:"absolute",top:"-100000px"});this.c.parentNode.appendChild(B);P=new f.z48(B.firstChild);P.update(M);if("pounce"==this.options.selectorsEffect){K=this.c.href;N=this.selectors.filter(function(i){return i.href.has(K)});N=(N[0])?$mjs(N[0].byTag("img")[0]||N[0]):this.z7.self;L=this.selectors.filter(function(i){return i.href.has(C)});L=(L[0])?$mjs(L[0].byTag("img")[0]||L[0]):null;if(null==L){L=this.z7.self;N=this.z7.self}F=this.z7.self.j8(),J=N.j8(),I=L.j8(),b=N.j7(),G=L.j7()}S=function(){var l={},j={},k={},i=null;if("pounce"==this.options.selectorsEffect){l.width=[O,b.width];l.height=[H,b.height];l.top=[F.top,J.top];l.left=[F.left,J.left];j.width=[G.width,P.width];j.height=[G.height,P.height];j.top=[I.top,F.top];B.j23(0).j6({height:0,width:P.width,position:"relative"});j.left=[I.left,B.j8().left];k.width=[O,P.width];k.height=[H,P.height];P.self.j32(h.body).j6({position:"absolute","z-index":5001,left:j.left[0],top:j.top[0],width:j.width[0],height:j.height[0]});i=$mjs(this.c.firstChild.cloneNode(false)).j32(h.body).j6({position:"absolute","z-index":5000,left:l.left[0],top:l.top[0],visibility:"visible"});$mjs(this.c.firstChild).j6({visibility:"hidden"});this.c.parentNode.removeChild(B)}else{P.self.j32(this.c).j6({position:"absolute","z-index":5001,opacity:0,left:"0px",top:"0px"});i=$mjs(this.c.firstChild.cloneNode(false)).j32(this.c).j6({position:"absolute","z-index":5000,left:"0px",top:"0px",visibility:"visible"});$mjs(this.c.firstChild).j6({visibility:"hidden"});this.c.parentNode.removeChild(B);j={opacity:[0,1]};if(O!=P.width||H!=P.height){k.width=j.width=l.width=[O,P.width];k.height=j.height=l.height=[H,P.height]}if(this.options.selectorsEffect=="fade"){l.opacity=[1,0]}}new h.PFX([this.c,P.self,(i||this.c.firstChild)],{duration:this.options.selectorsEffectSpeed,onComplete:function(){if(i){i.j33();i=null}c.call(this,function(){P.unload();$mjs(this.c.firstChild).j6({visibility:"visible"});$mjs(P.self).j33();P=null;if(l.opacity){$mjs(this.c.firstChild).j6({opacity:1})}this.ufx=false;this.start(R);if(a){a.j27(10)}}.j24(this))}.j24(this)}).start([k,j,l])};P.load(S.j24(this))}else{c.call(this,function(){this.c.j6({width:this.z7.width+"px",height:this.z7.height+"px"});this.start(R);if(a){a.j27(10)}}.j24(this))}},z37:function(d){var i,a,b,c;i=null;a=[];d=d||"";if(""==d){for(c in f.options){i=f.options[c];switch(h.j1(f.defaults[c.j22()])){case"boolean":i=i.toString().j18();break;case"number":i=parseFloat(i);break;default:break}a[c.j22()]=i}}else{b=$mjs(d.split(";"));b.j14(function(j){f.z39.j14(function(l){i=l.exec(j.j26());if(i){switch(h.j1(f.defaults[i[1].j22()])){case"boolean":a[i[1].j22()]=i[4]==="true";break;case"number":a[i[1].j22()]=parseFloat(i[4]);break;default:a[i[1].j22()]=i[4]}}},this)},this)}if(false===a.selectorsEffect){a.selectorsEffect="false"}return a},z27:function(){var a,b;if(!this.z4){this.z4={self:$mjs(document.createElement("DIV")).j2("MagicZoomPup").j6({zIndex:10,position:"absolute",overflow:"hidden"}).hide(),width:20,height:20};this.c.appendChild(this.z4.self)}if(this.options.entireImage){this.z4.self.j6({"border-width":"0px",cursor:"default"})}this.z4.z38=false;this.z4.height=this.zoomViewHeight/(this.z1.height/this.z7.height);this.z4.width=this.options.zoomWidth/(this.z1.width/this.z7.width);if(this.z4.width>this.z7.width){this.z4.width=this.z7.width}if(this.z4.height>this.z7.height){this.z4.height=this.z7.height}this.z4.width=Math.round(this.z4.width);this.z4.height=Math.round(this.z4.height);this.z4.borderWidth=this.z4.self.j19("borderLeftWidth").j17();this.z4.self.j6({width:(this.z4.width-2*(h.j21.backCompat?0:this.z4.borderWidth))+"px",height:(this.z4.height-2*(h.j21.backCompat?0:this.z4.borderWidth))+"px"});if(!this.options.opacityReverse&&!this.options.rightClick){this.z4.self.j23(parseFloat(this.options.opacity/100));if(this.z4.z42){this.z4.self.removeChild(this.z4.z42);this.z4.z42=null}}else{if(this.z4.z42){this.z4.z42.src=this.z7.self.src}else{a=this.z7.self.cloneNode(false);a.unselectable="on";this.z4.z42=$mjs(this.z4.self.appendChild(a)).j6({position:"absolute",zIndex:5})}if(this.options.opacityReverse){this.z4.self.j23(1)}else{if(this.options.rightClick){this.z4.z42.j23(0.009)}this.z4.self.j23(parseFloat(this.options.opacity/100))}}},z43:function(b,c){if(!this.z30||b===undefined){return false}var a=(/touch/i).test(b.type)&&b.touches.length>1;if((!this.divTag||b.type!="mouseout")&&!a){$mjs(b).stop()}if(c===undefined){c=$mjs(b).j15()}if(this.z6===null||this.z6===undefined){this.z6=this.z7.getBox()}if("touchend"==b.type||("mouseout"==b.type&&!this.c.hasChild(b.getRelated()))||a||c.x>this.z6.right||c.x<this.z6.left||c.y>this.z6.bottom||c.y<this.z6.top){this.pause();return false}this.activatedEx=false;if(b.type=="mouseout"||b.type=="touchend"){return false}if(this.options.dragMode&&!this.z45){return false}if(!this.options.moveOnClick){c.x-=this.ddx;c.y-=this.ddy}if((c.x+this.z4.width/2)>=this.z6.right){c.x=this.z6.right-this.z4.width/2}if((c.x-this.z4.width/2)<=this.z6.left){c.x=this.z6.left+this.z4.width/2}if((c.y+this.z4.height/2)>=this.z6.bottom){c.y=this.z6.bottom-this.z4.height/2}if((c.y-this.z4.height/2)<=this.z6.top){c.y=this.z6.top+this.z4.height/2}this.options.x=c.x-this.z6.left;this.options.y=c.y-this.z6.top;if(this.z44===null){if(h.j21.trident){this.c.style.zIndex=1}this.z44=setTimeout(this.z16,10)}if(h.defined(this.hintVisible)&&this.hintVisible){this.hintVisible=false;this.hint.hide()}return true},show:function(){var b,q,u,v,d,p,r,s,w=this.options,a=this.z4;b=a.width/2;q=a.height/2;a.self.style.left=w.x-b+this.z7.border.left+"px";a.self.style.top=w.y-q+this.z7.border.top+"px";if(this.options.opacityReverse){a.z42.style.left="-"+(parseFloat(a.self.style.left)+a.borderWidth)+"px";a.z42.style.top="-"+(parseFloat(a.self.style.top)+a.borderWidth)+"px"}u=(this.options.x-b)*(this.z1.width/this.z7.width);v=(this.options.y-q)*(this.z1.height/this.z7.height);if(this.z1.width-u<w.zoomWidth){u=this.z1.width-w.zoomWidth;if(u<0){u=0}}if(this.z1.height-v<this.zoomViewHeight){v=this.z1.height-this.zoomViewHeight;if(v<0){v=0}}if(document.documentElement.dir=="rtl"){u=(w.x+a.width/2-this.z7.width)*(this.z1.width/this.z7.width)}u=Math.round(u);v=Math.round(v);if(w.smoothing===false||(!a.z38)){this.z1.self.style.left=(-u)+"px";this.z1.self.style.top=(-v)+"px"}else{d=parseInt(this.z1.self.style.left);p=parseInt(this.z1.self.style.top);r=(-u-d);s=(-v-p);if(!r&&!s){this.z44=null;return}r*=w.smoothingSpeed/100;if(r<1&&r>0){r=1}else{if(r>-1&&r<0){r=-1}}d+=r;s*=w.smoothingSpeed/100;if(s<1&&s>0){s=1}else{if(s>-1&&s<0){s=-1}}p+=s;this.z1.self.style.left=d+"px";this.z1.self.style.top=p+"px"}if(!a.z38){if(this.z2){this.z2.stop();this.z2.options.onComplete=h.$F;this.z2.options.duration=w.zoomFadeInSpeed;this.z47.self.j23(0);this.z2.start({opacity:[0,1]})}if(/^(left|right|top|bottom)$/i.test(w.zoomPosition)){this.z47.self.j32(h.body)}if(w.zoomPosition!="inner"){a.self.show()}if(/^(left|right|top|bottom)$/i.test(w.zoomPosition)&&!this.options.alwaysShowZoom){var c=this.adjPos();this.z47.self.style.top=c.y+"px";this.z47.self.style.left=c.x+"px"}else{this.z47.self.style.top=this.z47.z21}if(w.opacityReverse){this.c.j2("MagicZoomPup").j20({"border-width":"0px"});this.z7.self.j23(parseFloat((100-w.opacity)/100))}a.z38=true}if(this.z44){this.z44=setTimeout(this.z16,1000/w.fps)}},adjPos:function(){var q=this.getViewPort(5),r=this.z7.self.j9(),d=this.options.zoomPosition,n=this.z47,p=this.options.zoomDistance,a=n.self.j7(),b=n.initTopPos,o=n.initLeftPos,c={x:n.initLeftPos,y:n.initTopPos};if("left"==d||"right"==d){c.y=Math.max(q.top,Math.min(q.bottom,b+a.height)-a.height);if("left"==d&&q.left>o){c.x=(r.left-q.left>=a.width)?(r.left-a.width-2):(q.right-r.right-2>r.left-q.left-2)?(r.right+2):(r.left-a.width-2)}else{if("right"==d&&q.right<o+a.width){c.x=(q.right-r.right>=a.width)?(r.right+2):(r.left-q.left-2>q.right-r.right-2)?(r.left-a.width-2):(r.right+2)}}}else{if("top"==d||"bottom"==d){c.x=Math.max(q.left+2,Math.min(q.right,o+a.width)-a.width);if("top"==d&&q.top>b){c.y=(r.top-q.top>=a.height)?(r.top-a.height-2):(q.bottom-r.bottom-2>r.top-q.top-2)?(r.bottom+2):(r.top-a.height-2)}else{if("bottom"==d&&q.bottom<b+a.height){c.y=(q.bottom-r.bottom>=a.height)?(r.bottom+2):(r.top-q.top-2>q.bottom-r.bottom-2)?(r.top-a.height-2):(r.bottom+2)}}}}return c},getViewPort:function(a){a=a||0;var b=(h.j21.touchScreen)?{width:window.innerWidth,height:window.innerHeight}:$mjs(window).j7(),c=$mjs(window).j10();return{left:c.x+a,right:c.x+b.width-a,top:c.y+a,bottom:c.y+b.height-a}},activate:function(a){a=(h.defined(a))?a:true;this.activatedEx=true;if(!this.z1){this.z18();return}if(this.options.disableZoom){return}this.z30=true;if(a){if(!this.options.preservePosition){this.options.x=this.z7.width/2;this.options.y=this.z7.height/2}this.show()}},pause:function(){if(this.z44){clearTimeout(this.z44);this.z44=null}if(!this.options.alwaysShowZoom&&this.z4&&this.z4.z38){this.z4.z38=false;this.z4.self.hide();if(this.z2){this.z2.stop();this.z2.options.onComplete=this.z47.z22;this.z2.options.duration=this.options.zoomFadeOutSpeed;var a=this.z47.self.j19("opacity");this.z2.start({opacity:[a,0]})}else{this.z47.hide()}if(this.options.opacityReverse){this.c.j3("MagicZoomPup");this.z7.self.j23(1)}}this.z6=null;if(this.options.clickToActivate){this.z30=false}if(this.options.dragMode){this.z45=false}if(this.hint){this.hintVisible=true;this.hint.show()}if(h.j21.trident){this.c.style.zIndex=0}},mousedown:function(a){var c=a.getButton();if(3==c){return true}if(!((/touch/i).test(a.type)&&a.touches.length>1)){$mjs(a).stop()}if("click"==this.options.initializeOn&&!this.z7){this.initMouseEvent=a;this.z18();return}if("mouseover"==this.options.initializeOn&&!this.z7&&a.type=="mouseover"){this.initMouseEvent=a;this.z18();this.c.je2("mouseover",this.z14);return}if(this.options.disableZoom){return}if(this.z7&&!this.z1.ready){return}if(this.z1&&this.options.clickToDeactivate&&this.z30){this.z30=false;this.pause();return}if(this.z1&&!this.z30){this.z30=true;this.z43(a)}if(this.z30&&this.options.dragMode){this.z45=true;if(!this.options.moveOnClick){if(h.j21.touchScreen&&(this.z6===null||this.z6===undefined)){this.z6=this.z7.getBox()}var b=a.j15();this.ddx=b.x-this.options.x-this.z6.left;this.ddy=b.y-this.options.y-this.z6.top;if(Math.abs(this.ddx)>this.z4.width/2||Math.abs(this.ddy)>this.z4.height/2){this.z45=false;return}}else{this.z43(a)}}},mouseup:function(a){var b=a.getButton();if(3==b){return true}$mjs(a).stop();if(this.options.dragMode){this.z45=false}}};if(h.j21.trident){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}}$mjs(document).je1("domready",function(){if(!h.j21.touchScreen){$mjs(document).je1("mousemove",f.z8)}f.refresh()});return f})(magicJS);